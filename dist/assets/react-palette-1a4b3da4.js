import{O as wr,h as Cr,Q as Tr,e as Or,x as Dr}from"./@cosmos-kit/react-904ab7e0.js";import{aH as Mr,aI as Ir}from"./@nivo/core-594b4be1.js";import{c as y,g as it,R as xt}from"./vendor-e56015e7.js";import{_ as Lr,a as Pr}from"./@nivo/line-9f8d6812.js";import{u as Er}from"./@fuzio/web3auth-4e4f2881.js";var Z={},U={},B={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getColorIndex=t.getColorDiffStatus=t.hexDiff=t.rgbDiff=t.deltaE94=t.rgbToCIELab=t.xyzToCIELab=t.rgbToXyz=t.hslToRgb=t.rgbToHsl=t.rgbToHex=t.hexToRgb=t.defer=t.RSHIFT=t.SIGBITS=t.DELTAE94_DIFF_STATUS=void 0,t.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},t.SIGBITS=5,t.RSHIFT=8-t.SIGBITS;function r(){var u,f,l=new Promise(function(h,_){u=h,f=_});return{resolve:u,reject:f,promise:l}}t.defer=r;function e(u){var f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return f===null?null:[f[1],f[2],f[3]].map(function(l){return parseInt(l,16)})}t.hexToRgb=e;function n(u,f,l){return"#"+((1<<24)+(u<<16)+(f<<8)+l).toString(16).slice(1,7)}t.rgbToHex=n;function a(u,f,l){u/=255,f/=255,l/=255;var h=Math.max(u,f,l),_=Math.min(u,f,l),m,x,w=(h+_)/2;if(h===_)m=x=0;else{var S=h-_;switch(x=w>.5?S/(2-h-_):S/(h+_),h){case u:m=(f-l)/S+(f<l?6:0);break;case f:m=(l-u)/S+2;break;case l:m=(u-f)/S+4;break}m/=6}return[m,x,w]}t.rgbToHsl=a;function i(u,f,l){var h,_,m;function x(D,M,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?D+(M-D)*6*T:T<1/2?M:T<2/3?D+(M-D)*(2/3-T)*6:D}if(f===0)h=_=m=l;else{var w=l<.5?l*(1+f):l+f-l*f,S=2*l-w;h=x(S,w,u+1/3),_=x(S,w,u),m=x(S,w,u-1/3)}return[h*255,_*255,m*255]}t.hslToRgb=i;function o(u,f,l){u/=255,f/=255,l/=255,u=u>.04045?Math.pow((u+.005)/1.055,2.4):u/12.92,f=f>.04045?Math.pow((f+.005)/1.055,2.4):f/12.92,l=l>.04045?Math.pow((l+.005)/1.055,2.4):l/12.92,u*=100,f*=100,l*=100;var h=u*.4124+f*.3576+l*.1805,_=u*.2126+f*.7152+l*.0722,m=u*.0193+f*.1192+l*.9505;return[h,_,m]}t.rgbToXyz=o;function s(u,f,l){var h=95.047,_=100,m=108.883;u/=h,f/=_,l/=m,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116;var x=116*f-16,w=500*(u-f),S=200*(f-l);return[x,w,S]}t.xyzToCIELab=s;function d(u,f,l){var h=o(u,f,l),_=h[0],m=h[1],x=h[2];return s(_,m,x)}t.rgbToCIELab=d;function g(u,f){var l=1,h=1,_=1,m=u[0],x=u[1],w=u[2],S=f[0],D=f[1],M=f[2],T=m-S,j=x-D,G=w-M,F=Math.sqrt(x*x+w*w),k=Math.sqrt(D*D+M*M),I=S-m,L=k-F,C=Math.sqrt(T*T+j*j+G*G),V=Math.sqrt(C)>Math.sqrt(Math.abs(I))+Math.sqrt(Math.abs(L))?Math.sqrt(C*C-I*I-L*L):0,q=1+.045*F,W=1+.015*F;return I/=l,L/=h*q,V/=_*W,Math.sqrt(I*I+L*L+V*V)}t.deltaE94=g;function b(u,f){var l=d.apply(void 0,u),h=d.apply(void 0,f);return g(l,h)}t.rgbDiff=b;function p(u,f){var l=e(u),h=e(f);return b(l,h)}t.hexDiff=p;function c(u){return u<t.DELTAE94_DIFF_STATUS.NA?"N/A":u<=t.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":u<=t.DELTAE94_DIFF_STATUS.CLOSE?"Close":u<=t.DELTAE94_DIFF_STATUS.GOOD?"Good":u<t.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}t.getColorDiffStatus=c;function v(u,f,l){return(u<<2*t.SIGBITS)+(f<<t.SIGBITS)+l}t.getColorIndex=v})(B);var jr=Lr;function Rr(t,r){var e=[];return jr(t,function(n,a,i){r(n,a,i)&&e.push(n)}),e}var Ar=Rr,Fr=wr,Vr=Ar,Hr=Pr,$r=Cr;function Ur(t,r){var e=$r(t)?Fr:Vr;return e(t,Hr(r))}var Nr=Ur;Object.defineProperty(U,"__esModule",{value:!0});U.Swatch=void 0;var St=B,zr=Nr,Br=function(){function t(r,e){this._rgb=r,this._population=e}return t.applyFilter=function(r,e){return typeof e=="function"?zr(r,function(n){var a=n.r,i=n.g,o=n.b;return e(a,i,o,255)}):r},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var r=this._rgb,e=r[0],n=r[1],a=r[2];this._hsl=St.rgbToHsl(e,n,a)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var r=this._rgb,e=r[0],n=r[1],a=r[2];this._hex=St.rgbToHex(e,n,a)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var r=this._rgb;this._yiq=(r[0]*299+r[1]*587+r[2]*114)/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();U.Swatch=Br;var Q={},Gr=Tr,kr=4;function qr(t){return Gr(t,kr)}var Wr=qr,wt;function Zr(){if(wt)return Q;wt=1;var t=y&&y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Q,"__esModule",{value:!0});var r=t(kt()),e=Wr,n=function(){function a(i,o){o===void 0&&(o={}),this._src=i,this._opts=o,this._opts.filters=e(r.default.DefaultOpts.filters)}return a.prototype.maxColorCount=function(i){return this._opts.colorCount=i,this},a.prototype.maxDimension=function(i){return this._opts.maxDimension=i,this},a.prototype.addFilter=function(i){return this._opts.filters.push(i),this},a.prototype.removeFilter=function(i){var o=this._opts.filters.indexOf(i);return o>0&&this._opts.filters.splice(o),this},a.prototype.clearFilters=function(){return this._opts.filters=[],this},a.prototype.quality=function(i){return this._opts.quality=i,this},a.prototype.useImageClass=function(i){return this._opts.ImageClass=i,this},a.prototype.useGenerator=function(i){return this._opts.generator=i,this},a.prototype.useQuantizer=function(i){return this._opts.quantizer=i,this},a.prototype.build=function(){return new r.default(this._src,this._opts)},a.prototype.getPalette=function(i){return this.build().getPalette(i)},a.prototype.getSwatches=function(i){return this.build().getPalette(i)},a}();return Q.default=n,Q}var $t={},ut={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});var O=B,Qr=function(){function t(r,e,n,a,i,o,s){this._volume=-1,this._count=-1,this.dimension={r1:r,r2:e,g1:n,g2:a,b1:i,b2:o},this.hist=s}return t.build=function(r,e){var n=1<<3*O.SIGBITS,a=new Uint32Array(n),i,o,s,d,g,b,p,c,v,u;i=s=g=0,o=d=b=Number.MAX_VALUE;for(var f=r.length/4,l=0;l<f;){var h=l*4;if(l++,p=r[h+0],c=r[h+1],v=r[h+2],u=r[h+3],u!==0){p=p>>O.RSHIFT,c=c>>O.RSHIFT,v=v>>O.RSHIFT;var _=O.getColorIndex(p,c,v);a[_]+=1,p>i&&(i=p),p<o&&(o=p),c>s&&(s=c),c<d&&(d=c),v>g&&(g=v),v<b&&(b=v)}}return new t(o,i,d,s,b,g,a)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var r=this.dimension,e=r.r1,n=r.r2,a=r.g1,i=r.g2,o=r.b1,s=r.b2;this._volume=(n-e+1)*(i-a+1)*(s-o+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var r=this.hist,e=this.dimension,n=e.r1,a=e.r2,i=e.g1,o=e.g2,s=e.b1,d=e.b2,g=0,b=n;b<=a;b++)for(var p=i;p<=o;p++)for(var c=s;c<=d;c++){var v=O.getColorIndex(b,p,c);g+=r[v]}this._count=g}return this._count},t.prototype.clone=function(){var r=this.hist,e=this.dimension,n=e.r1,a=e.r2,i=e.g1,o=e.g2,s=e.b1,d=e.b2;return new t(n,a,i,o,s,d,r)},t.prototype.avg=function(){if(!this._avg){var r=this.hist,e=this.dimension,n=e.r1,a=e.r2,i=e.g1,o=e.g2,s=e.b1,d=e.b2,g=0,b=1<<8-O.SIGBITS,p=void 0,c=void 0,v=void 0;p=c=v=0;for(var u=n;u<=a;u++)for(var f=i;f<=o;f++)for(var l=s;l<=d;l++){var h=O.getColorIndex(u,f,l),_=r[h];g+=_,p+=_*(u+.5)*b,c+=_*(f+.5)*b,v+=_*(l+.5)*b}g?this._avg=[~~(p/g),~~(c/g),~~(v/g)]:this._avg=[~~(b*(n+a+1)/2),~~(b*(i+o+1)/2),~~(b*(s+d+1)/2)]}return this._avg},t.prototype.contains=function(r){var e=r[0],n=r[1],a=r[2],i=this.dimension,o=i.r1,s=i.r2,d=i.g1,g=i.g2,b=i.b1,p=i.b2;return e>>=O.RSHIFT,n>>=O.RSHIFT,a>>=O.RSHIFT,e>=o&&e<=s&&n>=d&&n<=g&&a>=b&&a<=p},t.prototype.split=function(){var r=this.hist,e=this.dimension,n=e.r1,a=e.r2,i=e.g1,o=e.g2,s=e.b1,d=e.b2,g=this.count();if(!g)return[];if(g===1)return[this.clone()];var b=a-n+1,p=o-i+1,c=d-s+1,v=Math.max(b,p,c),u=null,f,l;f=l=0;var h=null;if(v===b){h="r",u=new Uint32Array(a+1);for(var _=n;_<=a;_++){f=0;for(var m=i;m<=o;m++)for(var x=s;x<=d;x++){var w=O.getColorIndex(_,m,x);f+=r[w]}l+=f,u[_]=l}}else if(v===p){h="g",u=new Uint32Array(o+1);for(var m=i;m<=o;m++){f=0;for(var _=n;_<=a;_++)for(var x=s;x<=d;x++){var w=O.getColorIndex(_,m,x);f+=r[w]}l+=f,u[m]=l}}else{h="b",u=new Uint32Array(d+1);for(var x=s;x<=d;x++){f=0;for(var _=n;_<=a;_++)for(var m=i;m<=o;m++){var w=O.getColorIndex(_,m,x);f+=r[w]}l+=f,u[x]=l}}for(var S=-1,D=new Uint32Array(u.length),M=0;M<u.length;M++){var T=u[M];S<0&&T>l/2&&(S=M),D[M]=l-T}var j=this;function G(F){var k=F+"1",I=F+"2",L=j.dimension[k],C=j.dimension[I],V=j.clone(),q=j.clone(),W=S-L,mt=C-S;for(W<=mt?(C=Math.min(C-1,~~(S+mt/2)),C=Math.max(0,C)):(C=Math.max(L,~~(S-1-W/2)),C=Math.min(j.dimension[I],C));!u[C];)C++;for(var yt=D[C];!yt&&u[C-1];)yt=D[--C];return V.dimension[I]=C,q.dimension[k]=C+1,[V,q]}return G(h)},t}();ot.default=Qr;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});var Yr=function(){function t(r){this._comparator=r,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(r){this.contents.push(r),this._sorted=!1},t.prototype.peek=function(r){return this._sort(),r=typeof r=="number"?r:this.contents.length-1,this.contents[r]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(r){return this._sort(),this.contents.map(r)},t}();ft.default=Yr;var Ut=y&&y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0});var Jr=U,Xr=Ut(ot),Ct=Ut(ft),Kr=.75;function Tt(t,r){for(var e=t.size();t.size()<r;){var n=t.pop();if(n&&n.count()>0){var a=n.split(),i=a[0],o=a[1];if(t.push(i),o&&o.count()>0&&t.push(o),t.size()===e)break;e=t.size()}else break}}var te=function(t,r){if(t.length===0||r.colorCount<2||r.colorCount>256)throw new Error("Wrong MMCQ parameters");var e=Xr.default.build(t),n=e.hist;Object.keys(n).length;var a=new Ct.default(function(o,s){return o.count()-s.count()});a.push(e),Tt(a,Kr*r.colorCount);var i=new Ct.default(function(o,s){return o.count()*o.volume()-s.count()*s.volume()});return i.contents=a.contents,Tt(i,r.colorCount-i.size()),re(i)};function re(t){for(var r=[];t.size();){var e=t.pop(),n=e.avg();n[0],n[1],n[2],r.push(new Jr.Swatch(n,e.count()))}return r}ut.default=te;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorker=void 0;var r=ut;Object.defineProperty(t,"MMCQ",{enumerable:!0,get:function(){return r.default}}),t.WebWorker=null})($t);var Nt={},lt={},ee=Mr,ne=Or,ae=Ir,ie=Dr,zt=Object.prototype,ue=zt.hasOwnProperty,oe=ee(function(t,r){t=Object(t);var e=-1,n=r.length,a=n>2?r[2]:void 0;for(a&&ae(r[0],r[1],a)&&(n=1);++e<n;)for(var i=r[e],o=ie(i),s=-1,d=o.length;++s<d;){var g=o[s],b=t[g];(b===void 0||ne(b,zt[g])&&!ue.call(t,g))&&(t[g]=i[g])}return t}),Bt=oe;Object.defineProperty(lt,"__esModule",{value:!0});var P=U,E=B,fe=Bt,le={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function ce(t){var r=0;return t.forEach(function(e){r=Math.max(r,e.getPopulation())}),r}function se(t,r){return t.Vibrant===r||t.DarkVibrant===r||t.LightVibrant===r||t.Muted===r||t.DarkMuted===r||t.LightMuted===r}function he(t,r,e,n,a,i,o){function s(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];for(var p=0,c=0,v=0;v<g.length;v+=2){var u=g[v],f=g[v+1];p+=u*f,c+=f}return p/c}function d(g,b){return 1-Math.abs(g-b)}return s(d(t,r),o.weightSaturation,d(e,n),o.weightLuma,a/i,o.weightPopulation)}function H(t,r,e,n,a,i,o,s,d,g){var b=null,p=0;return r.forEach(function(c){var v=c.getHsl(),u=v[1],f=v[2];if(u>=s&&u<=d&&f>=a&&f<=i&&!se(t,c)){var l=he(u,o,f,n,c.getPopulation(),e,g);(b===null||l>p)&&(b=c,p=l)}}),b}function ve(t,r,e){var n={};return n.Vibrant=H(n,t,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.LightVibrant=H(n,t,r,e.targetLightLuma,e.minLightLuma,1,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.DarkVibrant=H(n,t,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.Muted=H(n,t,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n.LightMuted=H(n,t,r,e.targetLightLuma,e.minLightLuma,1,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n.DarkMuted=H(n,t,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n}function de(t,r,e){if(t.Vibrant===null&&t.DarkVibrant===null&&t.LightVibrant===null){if(t.DarkVibrant===null&&t.DarkMuted!==null){var n=t.DarkMuted.getHsl(),a=n[0],i=n[1],o=n[2];o=e.targetDarkLuma,t.DarkVibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.LightVibrant===null&&t.LightMuted!==null){var s=t.LightMuted.getHsl(),a=s[0],i=s[1],o=s[2];o=e.targetDarkLuma,t.DarkVibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}}if(t.Vibrant===null&&t.DarkVibrant!==null){var d=t.DarkVibrant.getHsl(),a=d[0],i=d[1],o=d[2];o=e.targetNormalLuma,t.Vibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}else if(t.Vibrant===null&&t.LightVibrant!==null){var g=t.LightVibrant.getHsl(),a=g[0],i=g[1],o=g[2];o=e.targetNormalLuma,t.Vibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.DarkVibrant===null&&t.Vibrant!==null){var b=t.Vibrant.getHsl(),a=b[0],i=b[1],o=b[2];o=e.targetDarkLuma,t.DarkVibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.LightVibrant===null&&t.Vibrant!==null){var p=t.Vibrant.getHsl(),a=p[0],i=p[1],o=p[2];o=e.targetLightLuma,t.LightVibrant=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.Muted===null&&t.Vibrant!==null){var c=t.Vibrant.getHsl(),a=c[0],i=c[1],o=c[2];o=e.targetMutesSaturation,t.Muted=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.DarkMuted===null&&t.DarkVibrant!==null){var v=t.DarkVibrant.getHsl(),a=v[0],i=v[1],o=v[2];o=e.targetMutesSaturation,t.DarkMuted=new P.Swatch(E.hslToRgb(a,i,o),0)}if(t.LightMuted===null&&t.LightVibrant!==null){var u=t.LightVibrant.getHsl(),a=u[0],i=u[1],o=u[2];o=e.targetMutesSaturation,t.LightMuted=new P.Swatch(E.hslToRgb(a,i,o),0)}}var ge=function(t,r){r=fe({},r,le);var e=ce(t),n=ve(t,e,r);return de(n,e,r),n};lt.default=ge;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var r=lt;Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return r.default}})})(Nt);var Gt={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});function be(t,r,e,n){return n>=125&&!(t>250&&r>250&&e>250)}ct.default=be;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.combineFilters=void 0;var r=ct;Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return r.default}});function e(n){return!Array.isArray(n)||n.length===0?null:function(a,i,o,s){if(s===0)return!1;for(var d=0;d<n.length;d++)if(!n[d](a,i,o,s))return!1;return!0}}t.combineFilters=e})(Gt);var Ot;function kt(){if(Ot)return Z;Ot=1;var t=y&&y.__createBinding||(Object.create?function(c,v,u,f){f===void 0&&(f=u),Object.defineProperty(c,f,{enumerable:!0,get:function(){return v[u]}})}:function(c,v,u,f){f===void 0&&(f=u),c[f]=v[u]}),r=y&&y.__setModuleDefault||(Object.create?function(c,v){Object.defineProperty(c,"default",{enumerable:!0,value:v})}:function(c,v){c.default=v}),e=y&&y.__importStar||function(c){if(c&&c.__esModule)return c;var v={};if(c!=null)for(var u in c)u!=="default"&&Object.hasOwnProperty.call(c,u)&&t(v,c,u);return r(v,c),v},n=y&&y.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Z,"__esModule",{value:!0});var a=U,i=n(Zr()),o=e(B),s=e($t),d=e(Nt),g=e(Gt),b=Bt,p=function(){function c(v,u){this._src=v,this.opts=b({},u,c.DefaultOpts),this.opts.combinedFilter=g.combineFilters(this.opts.filters)}return c.from=function(v){return new i.default(v)},c.prototype._process=function(v,u){var f=u.quantizer,l=u.generator;return v.scaleDown(u),v.applyFilter(u.combinedFilter).then(function(h){return f(h.data,u)}).then(function(h){return a.Swatch.applyFilter(h,u.combinedFilter)}).then(function(h){return Promise.resolve(l(h))})},c.prototype.palette=function(){return this.swatches()},c.prototype.swatches=function(){return this._palette},c.prototype.getPalette=function(v){var u=this,f=new this.opts.ImageClass,l=f.load(this._src).then(function(h){return u._process(h,u.opts)}).then(function(h){return u._palette=h,f.remove(),h},function(h){throw f.remove(),h});return v&&l.then(function(h){return v(null,h)},function(h){return v(h)}),l},c.Builder=i.default,c.Quantizer=s,c.Generator=d,c.Filter=g,c.Util=o,c.Swatch=a.Swatch,c.DefaultOpts={colorCount:64,quality:5,generator:d.Default,ImageClass:null,quantizer:s.MMCQ,filters:[g.Default]},c}();return Z.default=p,Z}var st={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.ImageBase=void 0;var _e=function(){function t(){}return t.prototype.scaleDown=function(r){var e=this.getWidth(),n=this.getHeight(),a=1;if(r.maxDimension>0){var i=Math.max(e,n);i>r.maxDimension&&(a=r.maxDimension/i)}else a=1/r.quality;a<1&&this.resize(e*a,n*a,a)},t.prototype.applyFilter=function(r){var e=this.getImageData();if(typeof r=="function")for(var n=e.data,a=n.length/4,i=void 0,o=void 0,s=void 0,d=void 0,g=void 0,b=0;b<a;b++)i=b*4,o=n[i+0],s=n[i+1],d=n[i+2],g=n[i+3],r(o,s,d,g)||(n[i+3]=0);return Promise.resolve(e)},t}();J.ImageBase=_e;var pe=y&&y.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(r,e)};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),me=y&&y.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),ye=y&&y.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),xe=y&&y.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var e in t)e!=="default"&&Object.hasOwnProperty.call(t,e)&&me(r,t,e);return ye(r,t),r};Object.defineProperty(st,"__esModule",{value:!0});var Se=J,nt=xe(Er);function we(t){var r=nt.parse(t);return r.protocol===null&&r.host===null&&r.port===null}function Ce(t,r){var e=nt.parse(t),n=nt.parse(r);return e.protocol===n.protocol&&e.hostname===n.hostname&&e.port===n.port}var Te=function(t){pe(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype._initCanvas=function(){var e=this.image,n=this._canvas=document.createElement("canvas"),a=this._context=n.getContext("2d");n.className="vibrant-canvas",n.style.display="none",this._width=n.width=e.width,this._height=n.height=e.height,a.drawImage(e,0,0),document.body.appendChild(n)},r.prototype.load=function(e){var n=this,a=null,i=null;if(typeof e=="string")a=document.createElement("img"),!we(e)&&!Ce(window.location.href,e)&&(a.crossOrigin="anonymous"),i=a.src=e;else if(e instanceof HTMLImageElement)a=e,i=e.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=a,new Promise(function(o,s){var d=function(){n._initCanvas(),o(n)};a.complete?d():(a.onload=d,a.onerror=function(g){return s(new Error("Fail to load image: "+i))})})},r.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},r.prototype.update=function(e){this._context.putImageData(e,0,0)},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.resize=function(e,n,a){var i=this,o=i._canvas,s=i._context,d=i.image;this._width=o.width=e,this._height=o.height=n,s.scale(a,a),s.drawImage(d,0,0)},r.prototype.getPixelCount=function(){return this._width*this._height},r.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},r.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},r}(Se.ImageBase);st.default=Te;var qt=y&&y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Wt=qt(kt()),Oe=qt(st);Wt.default.DefaultOpts.ImageClass=Oe.default;var De=Wt.default;const Me=it(De);var Ie=1/0,Le="[object Symbol]",Pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X="\\ud800-\\udfff",Zt="\\u0300-\\u036f\\ufe20-\\ufe23",Qt="\\u20d0-\\u20f0",Yt="\\u2700-\\u27bf",Jt="a-z\\xdf-\\xf6\\xf8-\\xff",je="\\xac\\xb1\\xd7\\xf7",Re="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ae="\\u2000-\\u206f",Fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\ufe0e\\ufe0f",tr=je+Re+Ae+Fe,ht="['’]",Ve="["+X+"]",Dt="["+tr+"]",Y="["+Zt+Qt+"]",rr="\\d+",He="["+Yt+"]",er="["+Jt+"]",nr="[^"+X+tr+rr+Yt+Jt+Xt+"]",at="\\ud83c[\\udffb-\\udfff]",$e="(?:"+Y+"|"+at+")",ar="[^"+X+"]",vt="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+Xt+"]",ir="\\u200d",Mt="(?:"+er+"|"+nr+")",Ue="(?:"+$+"|"+nr+")",It="(?:"+ht+"(?:d|ll|m|re|s|t|ve))?",Lt="(?:"+ht+"(?:D|LL|M|RE|S|T|VE))?",ur=$e+"?",or="["+Kt+"]?",Ne="(?:"+ir+"(?:"+[ar,vt,dt].join("|")+")"+or+ur+")*",fr=or+ur+Ne,ze="(?:"+[He,vt,dt].join("|")+")"+fr,Be="(?:"+[ar+Y+"?",Y,vt,dt,Ve].join("|")+")",Ge=RegExp(ht,"g"),ke=RegExp(Y,"g"),qe=RegExp(at+"(?="+at+")|"+Be+fr,"g"),We=RegExp([$+"?"+er+"+"+It+"(?="+[Dt,$,"$"].join("|")+")",Ue+"+"+Lt+"(?="+[Dt,$+Mt,"$"].join("|")+")",$+"?"+Mt+"+"+It,$+"+"+Lt,rr,ze].join("|"),"g"),Ze=RegExp("["+ir+X+Zt+Qt+Kt+"]"),Qe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},Je=typeof y=="object"&&y&&y.Object===Object&&y,Xe=typeof self=="object"&&self&&self.Object===Object&&self,Ke=Je||Xe||Function("return this")();function tn(t,r,e,n){var a=-1,i=t?t.length:0;for(n&&i&&(e=t[++a]);++a<i;)e=r(e,t[a],a,t);return e}function rn(t){return t.split("")}function en(t){return t.match(Pe)||[]}function nn(t){return function(r){return t==null?void 0:t[r]}}var an=nn(Ye);function lr(t){return Ze.test(t)}function un(t){return Qe.test(t)}function on(t){return lr(t)?fn(t):rn(t)}function fn(t){return t.match(qe)||[]}function ln(t){return t.match(We)||[]}var cn=Object.prototype,sn=cn.toString,Pt=Ke.Symbol,Et=Pt?Pt.prototype:void 0,jt=Et?Et.toString:void 0;function hn(t,r,e){var n=-1,a=t.length;r<0&&(r=-r>a?0:a+r),e=e>a?a:e,e<0&&(e+=a),a=r>e?0:e-r>>>0,r>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+r];return i}function vn(t){if(typeof t=="string")return t;if(pn(t))return jt?jt.call(t):"";var r=t+"";return r=="0"&&1/t==-Ie?"-0":r}function dn(t,r,e){var n=t.length;return e=e===void 0?n:e,!r&&e>=n?t:hn(t,r,e)}function gn(t){return function(r){r=K(r);var e=lr(r)?on(r):void 0,n=e?e[0]:r.charAt(0),a=e?dn(e,1).join(""):r.slice(1);return n[t]()+a}}function bn(t){return function(r){return tn(wn(xn(r).replace(Ge,"")),t,"")}}function _n(t){return!!t&&typeof t=="object"}function pn(t){return typeof t=="symbol"||_n(t)&&sn.call(t)==Le}function K(t){return t==null?"":vn(t)}var mn=bn(function(t,r,e){return r=r.toLowerCase(),t+(e?yn(r):r)});function yn(t){return Sn(K(t).toLowerCase())}function xn(t){return t=K(t),t&&t.replace(Ee,an).replace(ke,"")}var Sn=gn("toUpperCase");function wn(t,r,e){return t=K(t),r=e?void 0:r,r===void 0?un(t)?ln(t):en(t):t.match(r)||[]}var Cn=mn;const Tn=it(Cn);var On="Expected a function",cr="__lodash_hash_undefined__",sr=1/0,Dn="[object Function]",Mn="[object GeneratorFunction]",In="[object Symbol]",Ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pn=/^\w*$/,En=/^\./,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rn=/[\\^$.*+?()[\]{}|]/g,An=/\\(\\)?/g,Fn=/^\[object .+?Constructor\]$/,Vn=typeof y=="object"&&y&&y.Object===Object&&y,Hn=typeof self=="object"&&self&&self.Object===Object&&self,gt=Vn||Hn||Function("return this")();function hr(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}function $n(t,r){return t==null?void 0:t[r]}function Un(t){var r=!1;if(t!=null&&typeof t.toString!="function")try{r=!!(t+"")}catch{}return r}var Nn=Array.prototype,zn=Function.prototype,vr=Object.prototype,et=gt["__core-js_shared__"],Rt=function(){var t=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),dr=zn.toString,bt=vr.hasOwnProperty,gr=vr.toString,Bn=RegExp("^"+dr.call(bt).replace(Rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=gt.Symbol,Gn=Nn.splice,Ft=Math.max,kn=_r(gt,"Map"),z=_r(Object,"create"),Vt=At?At.prototype:void 0,Ht=Vt?Vt.toString:void 0;function R(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function qn(){this.__data__=z?z(null):{}}function Wn(t){return this.has(t)&&delete this.__data__[t]}function Zn(t){var r=this.__data__;if(z){var e=r[t];return e===cr?void 0:e}return bt.call(r,t)?r[t]:void 0}function Qn(t){var r=this.__data__;return z?r[t]!==void 0:bt.call(r,t)}function Yn(t,r){var e=this.__data__;return e[t]=z&&r===void 0?cr:r,this}R.prototype.clear=qn;R.prototype.delete=Wn;R.prototype.get=Zn;R.prototype.has=Qn;R.prototype.set=Yn;function N(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function Jn(){this.__data__=[]}function Xn(t){var r=this.__data__,e=tt(r,t);if(e<0)return!1;var n=r.length-1;return e==n?r.pop():Gn.call(r,e,1),!0}function Kn(t){var r=this.__data__,e=tt(r,t);return e<0?void 0:r[e][1]}function ta(t){return tt(this.__data__,t)>-1}function ra(t,r){var e=this.__data__,n=tt(e,t);return n<0?e.push([t,r]):e[n][1]=r,this}N.prototype.clear=Jn;N.prototype.delete=Xn;N.prototype.get=Kn;N.prototype.has=ta;N.prototype.set=ra;function A(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function ea(){this.__data__={hash:new R,map:new(kn||N),string:new R}}function na(t){return rt(this,t).delete(t)}function aa(t){return rt(this,t).get(t)}function ia(t){return rt(this,t).has(t)}function ua(t,r){return rt(this,t).set(t,r),this}A.prototype.clear=ea;A.prototype.delete=na;A.prototype.get=aa;A.prototype.has=ia;A.prototype.set=ua;function tt(t,r){for(var e=t.length;e--;)if(ma(t[e][0],r))return e;return-1}function oa(t,r){r=pr(r,t)?[r]:br(r);for(var e=0,n=r.length;t!=null&&e<n;)t=t[mr(r[e++])];return e&&e==n?t:void 0}function fa(t,r,e){pr(r,t)||(r=br(r),t=ga(t,r),r=pa(r));var n=t==null?t:t[mr(r)];return n==null?void 0:hr(n,t,e)}function la(t){if(!xr(t)||da(t))return!1;var r=ya(t)||Un(t)?Bn:Fn;return r.test(_a(t))}function ca(t,r){return r=Ft(r===void 0?t.length-1:r,0),function(){for(var e=arguments,n=-1,a=Ft(e.length-r,0),i=Array(a);++n<a;)i[n]=e[r+n];n=-1;for(var o=Array(r+1);++n<r;)o[n]=e[n];return o[r]=i,hr(t,this,o)}}function sa(t,r,e){var n=-1,a=t.length;r<0&&(r=-r>a?0:a+r),e=e>a?a:e,e<0&&(e+=a),a=r>e?0:e-r>>>0,r>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+r];return i}function ha(t){if(typeof t=="string")return t;if(pt(t))return Ht?Ht.call(t):"";var r=t+"";return r=="0"&&1/t==-sr?"-0":r}function br(t){return yr(t)?t:ba(t)}function rt(t,r){var e=t.__data__;return va(r)?e[typeof r=="string"?"string":"hash"]:e.map}function _r(t,r){var e=$n(t,r);return la(e)?e:void 0}function pr(t,r){if(yr(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||pt(t)?!0:Pn.test(t)||!Ln.test(t)||r!=null&&t in Object(r)}function va(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function da(t){return!!Rt&&Rt in t}function ga(t,r){return r.length==1?t:oa(t,sa(r,0,-1))}var ba=_t(function(t){t=Sa(t);var r=[];return En.test(t)&&r.push(""),t.replace(jn,function(e,n,a,i){r.push(a?i.replace(An,"$1"):n||e)}),r});function mr(t){if(typeof t=="string"||pt(t))return t;var r=t+"";return r=="0"&&1/t==-sr?"-0":r}function _a(t){if(t!=null){try{return dr.call(t)}catch{}try{return t+""}catch{}}return""}function pa(t){var r=t?t.length:0;return r?t[r-1]:void 0}function _t(t,r){if(typeof t!="function"||r&&typeof r!="function")throw new TypeError(On);var e=function(){var n=arguments,a=r?r.apply(this,n):n[0],i=e.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return e.cache=i.set(a,o),o};return e.cache=new(_t.Cache||A),e}_t.Cache=A;function ma(t,r){return t===r||t!==t&&r!==r}var yr=Array.isArray;function ya(t){var r=xr(t)?gr.call(t):"";return r==Dn||r==Mn}function xr(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function xa(t){return!!t&&typeof t=="object"}function pt(t){return typeof t=="symbol"||xa(t)&&gr.call(t)==In}function Sa(t){return t==null?"":ha(t)}var wa=ca(fa),Ca=wa;const Ta=it(Ca);var Oa=function(t){try{return Promise.resolve(Me.from(t).getPalette()).then(function(r){return Object.keys(r).reduce(function(e,n){var a;return Object.assign({},e,((a={})[Tn(n)]=Ta(r,[n,"getHex"]),a))},{})})}catch(r){return Promise.reject(r)}},Sr={loading:!0,data:{},error:void 0};function Da(t,r){switch(r.type){case"getPalette":return Sr;case"resolvePalette":return Object.assign({},t,{data:r.payload,loading:!1});case"rejectPalette":return Object.assign({},t,{error:r.payload,loading:!1})}}function ja(t){var r=xt.useReducer(Da,Sr),e=r[0],n=r[1];return xt.useEffect(function(){n({type:"getPalette"}),Oa(t).then(function(a){n({type:"resolvePalette",payload:a})}).catch(function(a){n({type:"rejectPalette",payload:a})})},[t]),e}export{ja as i};
