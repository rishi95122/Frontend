import{r as a}from"./vendor-e56015e7.js";import{j as m}from"./blurhash-f29bb829.js";var b=Object.defineProperty,y=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(t,e,r)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e)=>{for(var r in e||(e={}))u.call(e,r)&&d(t,r,e[r]);if(s)for(var r of s(e))c.call(e,r)&&d(t,r,e[r]);return t},p=(t,e)=>y(t,O(e)),f=(t,e)=>{var r={};for(var i in t)u.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&s)for(var i of s(t))e.indexOf(i)<0&&c.call(t,i)&&(r[i]=t[i]);return r},w=class extends a.PureComponent{constructor(){super(...arguments),this.canvas=null,this.handleRef=t=>{this.canvas=t,this.draw()},this.draw=()=>{let{hash:t,height:e,punch:r,width:i}=this.props;if(this.canvas){let o=m(t,i,e,r),h=this.canvas.getContext("2d"),n=h.createImageData(i,e);n.data.set(o),h.putImageData(n,0,0)}}}componentDidUpdate(){this.draw()}render(){let t=this.props,{hash:e,height:r,width:i}=t,o=f(t,["hash","height","width"]);return a.createElement("canvas",p(l({},o),{height:r,width:i,ref:this.handleRef}))}};w.defaultProps={height:128,width:128};var P={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},x=class extends a.PureComponent{componentDidUpdate(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")}render(){let t=this.props,{hash:e,height:r,width:i,punch:o,resolutionX:h,resolutionY:n,style:g}=t,v=f(t,["hash","height","width","punch","resolutionX","resolutionY","style"]);return a.createElement("div",p(l({},v),{style:p(l({display:"inline-block",height:r,width:i},g),{position:"relative"})}),a.createElement(w,{hash:e,height:n,width:h,punch:o,style:P}))}};x.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32};export{x as u};
